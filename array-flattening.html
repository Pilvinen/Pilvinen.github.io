<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Array flattening - Adventures in Csharp</title><meta name="description" content="One dimensional arrays, or flat arrays as they are sometimes called, have desirable properties. They are fast. They are simple to access and to iterate through. They can easily be assigned&hellip;"><meta name="robots" content="index, follow"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://Pilvinen.github.io/array-flattening.html"><link rel="alternate" type="application/atom+xml" href="https://Pilvinen.github.io/feed.xml"><link rel="alternate" type="application/json" href="https://Pilvinen.github.io/feed.json"><meta property="og:title" content="Array flattening"><meta property="og:image" content="https://Pilvinen.github.io/media/posts/1/Array_flattening.png"><meta property="og:site_name" content="Adventures in Csharp"><meta property="og:description" content="One dimensional arrays, or flat arrays as they are sometimes called, have desirable properties. They are fast. They are simple to access and to iterate through. They can easily be assigned&hellip;"><meta property="og:url" content="https://Pilvinen.github.io/array-flattening.html"><meta property="og:type" content="article"><link rel="shortcut icon" href="https://Pilvinen.github.io/media/website/favicon.ico" type="image/x-icon"><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin><style>h1,h2,h3,h4,h5,h6,.btn,[type=button],[type=submit],button,.navbar .navbar__menu li,.navbar_mobile_sidebar .navbar__menu li,.feed__author,.post__tag,.post__share>a span,.post__nav-link>span,.footer{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}body,h1,.h1,blockquote,.search__input,.author__name,.author__info>p,.feed__item h2,.post__nav-link{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}</style><link rel="stylesheet" href="https://Pilvinen.github.io/assets/css/style.css?v=7d1523b29e982f6a431300f33bc6f9d9"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://Pilvinen.github.io/array-flattening.html"},"headline":"Array flattening","datePublished":"2020-10-28T16:42","dateModified":"2020-10-29T00:14","image":{"@type":"ImageObject","url":"https://Pilvinen.github.io/media/posts/1/Array_flattening.png","height":720,"width":1281},"description":"One dimensional arrays, or flat arrays as they are sometimes called, have desirable properties. They are fast. They are simple to access and to iterate through. They can easily be assigned&hellip;","author":{"@type":"Person","name":"Pilvinen"},"publisher":{"@type":"Organization","name":"Pilvinen","logo":{"@type":"ImageObject","url":"https://Pilvinen.github.io/media/website/Hedgehog.png","height":397,"width":640}}}</script><script src="https://Pilvinen.github.io/assets/js/ls.parent-fit.min.js?v=1c78585e2a70398fe95085061942fd37"></script><script async src="https://Pilvinen.github.io/assets/js/lazysizes.min.js?v=149ff45fc6c2f13e892e438a58abb77f"></script></head><body><div class="site-container"><header class="top" id="js-header"><a class="logo" href="https://Pilvinen.github.io/"><img src="https://Pilvinen.github.io/media/website/Hedgehog.png" alt="Adventures in Csharp"></a></header><main><article class="post"><div class="hero"><figure class="hero__image"><img class="hero__image-img lazyload" data-src="https://Pilvinen.github.io/media/posts/1/Array_flattening.png" data-srcset="https://Pilvinen.github.io/media/posts/1/responsive/Array_flattening-xs.png 300w ,https://Pilvinen.github.io/media/posts/1/responsive/Array_flattening-sm.png 480w ,https://Pilvinen.github.io/media/posts/1/responsive/Array_flattening-md.png 768w ,https://Pilvinen.github.io/media/posts/1/responsive/Array_flattening-lg.png 1024w ,https://Pilvinen.github.io/media/posts/1/responsive/Array_flattening-xl.png 1360w ,https://Pilvinen.github.io/media/posts/1/responsive/Array_flattening-2xl.png 1600w" data-aspectratio="1.7791666666666666" data-sizes="auto" alt="Array flattening" height="720" width="1281"></figure><header class="hero__content"><div class="wrapper"><div class="post__meta"><time datetime="2020-10-28T16:42">October 28, 2020</time></div><h1>Array flattening</h1><div class="post__meta post__meta--author"><img class="lazyload post__author-thumb" data-src="https://Pilvinen.github.io/media/website/Pilvinen.jpg" alt="Pilvinen"> <a href="https://Pilvinen.github.io/authors/pilvinen/" class="feed__author invert">Pilvinen</a></div></div></header></div><div class="wrapper post__entry"><figure class="post__image"><img class="lazyload" data-src="https://Pilvinen.github.io/media/posts/1/Array_flattening.png" data-sizes="auto" data-srcset="https://Pilvinen.github.io/media/posts/1/responsive/Array_flattening-xs.png 300w ,https://Pilvinen.github.io/media/posts/1/responsive/Array_flattening-sm.png 480w ,https://Pilvinen.github.io/media/posts/1/responsive/Array_flattening-md.png 768w ,https://Pilvinen.github.io/media/posts/1/responsive/Array_flattening-lg.png 1024w ,https://Pilvinen.github.io/media/posts/1/responsive/Array_flattening-xl.png 1360w ,https://Pilvinen.github.io/media/posts/1/responsive/Array_flattening-2xl.png 1600w" data-aspectratio="1.779167" width="1281" height="720"></figure><p><strong>One dimensional arrays</strong>, or <strong>flat arrays</strong> as they are sometimes called, have desirable properties. They are fast. They are simple to access and to iterate through. They can easily be assigned to contiguous memory blocks.</p><p>The above picture shows how <strong>indexing</strong> works when we turn our multi-dimensional array into a flat array.</p><pre>int index = rowWidth * row + col;</pre><p>The above code pretty much explains it all. But in case you're like me, and you sometimes have difficulties understanding things until you've studied them thoroughly, I will walk you through the gist of it.</p><p>In the example above we have a multi-dimensional <code>3 x 4</code> array. 3 rows (0-2) and 4 columns (0-3) and, and we want to find the index for <code>1,2</code>in other words, we want the index for <strong>row position 1</strong>, <strong>column position 2</strong>, and we want to find that index position in our <em>one dimensional flat array</em> which is essentially emulating a multi-dimensional 3 x 4 array.</p><p>We take the <strong>width</strong> of our <strong>rows</strong>, ie. their actual size (<strong>4</strong> columns wide) and we <strong>multiply</strong> it with the <em>index</em> of the <strong>row</strong> that we want to access (<strong>1</strong>). In other words <code>rowWidth * row</code> ie. <code>4 * 1</code> in our example. This gives us the combined length of all the <em>previous</em> rows of data (because the index starts from 0, we essentially always skip the current one), ie. <strong>row 0</strong> is the previous row in this case. <code>4 * 1 = 4</code>We have 4 entries in all the previous rows.</p><p>Next we want to add our index location on the <strong>column</strong> to this number. This gives us the final index value. In our example our location on the column is 2, therefore we add <code>4 + 2 = 6</code>, giving us the final index of <strong>6</strong>.</p><p>The explanation is probably harder to follow than the code itself, but there you have it.</p></div><footer class="wrapper post__footer"><p class="post__last-updated">This article was updated on October 29, 2020</p><ul class="post__tag"><li><a href="https://Pilvinen.github.io/arrays/">Arrays</a></li><li><a href="https://Pilvinen.github.io/c/">C#</a></li><li><a href="https://Pilvinen.github.io/csharp/">Csharp</a></li></ul><div class="post__share"></div><div class="post__bio bio"><img class="lazyload bio__avatar" data-src="https://Pilvinen.github.io/media/website/Pilvinen.jpg" alt="Pilvinen"><div class="bio__info"><h3 class="bio__name"><a href="https://Pilvinen.github.io/authors/pilvinen/" class="invert" rel="author">Pilvinen</a></h3><p>Star and Serpent indie game studio founder and game designer. Working on Rituals of the old PC sandbox RPG voxel game.</p></div></div></footer></article><nav class="post__nav"><div class="post__nav-inner"><div class="post__nav-next"><a href="https://Pilvinen.github.io/binary-addition.html" class="invert post__nav-link" rel="next"><span>Next</span> Binary addition </a><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://Pilvinen.github.io/assets/svg/svg-map.svg#arrow-next"/></svg></div></div></nav></main><footer class="footer"><div class="footer__copyright"><a href="https://www.starandserpent.com" target="_blank" rel="noopener noreferrer">https://www.starandserpent.com</a></div><button class="footer__bttop js-footer__bttop" aria-label="Back to top"><svg><title>Back to top</title><use xlink:href="https://Pilvinen.github.io/assets/svg/svg-map.svg#toparrow"/></svg></button></footer></div><script>window.publiiThemeMenuConfig = {    
        mobileMenuMode: 'sidebar',
        animationSpeed: 300,
        submenuWidth: 'auto',
        doubleClickTime: 500,
        mobileMenuExpandableSubmenus: true, 
        relatedContainerForOverlayMenuSelector: '.top',
   };</script><script defer="defer" src="https://Pilvinen.github.io/assets/js/scripts.min.js?v=f56b13ba141d95ea2a0b7aab75ca9528"></script><script>var lazyFeaturedImage=function lazyFeaturedImage(){var b=document.querySelectorAll(".hero__image-img");for(var a=0;a<b.length;a++){var c=b[a];c.addEventListener("lazyloaded",function(f){var d=f.target.parentNode;d.classList.add("hero__image--overlay")})}};lazyFeaturedImage();</script></body></html>