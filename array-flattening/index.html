<!DOCTYPE html><html lang="en-us"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Array flattening - Csharp and Game Development Notes</title><meta name="description" content="One dimensional arrays, or flat arrays as they are sometimes called, have desirable properties. They are fast. They are simple to access and to iterate through. They can easily be assigned&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="stylesheet" href="https://pilvimaa.fi/media/plugins/syntaxHighlighter/prism-black.css"><script type="text/javascript" async src="https://www.googletagmanager.com/gtag/js?id=G-NT7DGE75CF"></script><script type="text/javascript">window.dataLayer = window.dataLayer || [];
				  function gtag(){dataLayer.push(arguments);}
				  gtag('js', new Date());
				  gtag('config', 'G-NT7DGE75CF' , { 'anonymize_ip': true });</script><link rel="canonical" href="https://pilvimaa.fi/array-flattening/"><link rel="alternate" type="application/atom+xml" href="https://pilvimaa.fi/feed.xml"><link rel="alternate" type="application/json" href="https://pilvimaa.fi/feed.json"><link rel="shortcut icon" href="https://pilvimaa.fi/media/website/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="https://pilvimaa.fi/assets/css/style.css?v=923666099a7fa66b9200889f7a7c7e96"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://pilvimaa.fi/array-flattening/"},"headline":"Array flattening","datePublished":"2020-10-28T16:42","dateModified":"2020-10-29T02:57","image":{"@type":"ImageObject","url":"https://pilvimaa.fi/media/posts/1/Array_flattening.png","height":720,"width":1281},"description":"One dimensional arrays, or flat arrays as they are sometimes called, have desirable properties. They are fast. They are simple to access and to iterate through. They can easily be assigned&hellip;","author":{"@type":"Person","name":"Pilvinen","url":"https://pilvimaa.fi/authors/pilvinen/"},"publisher":{"@type":"Organization","name":"Pilvinen","logo":{"@type":"ImageObject","url":"https://pilvimaa.fi/media/website/Hedgehog.png","height":397,"width":640}}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-NT7DGE75CF"></script><script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-NT7DGE75CF');</script></head><body class="post-template"><header class="top js-header"><a class="logo" href="https://pilvimaa.fi/"><img src="https://pilvimaa.fi/media/website/Hedgehog.png" alt="Csharp and Game Development Notes" width="640" height="397"></a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://www.starandserpent.com" title="Star and Serpent" target="_blank">Star and Serpent</a></li><li><a href="https://www.starandserpent.com/blog/" title="S.&#x27;.S.&#x27;. blog" target="_blank">S.&#x27;.S.&#x27;. Blog</a></li><li><a href="https://github.com/starandserpent" title="S.&#x27;.S.&#x27;. Github" target="_blank">S.&#x27;.S.&#x27;. Github</a></li><li><a href="https://github.com/Pilvinen" title="Personal Github" target="_blank">Personal Github</a></li></ul></nav></header><main class="post"><article class="content"><div class="hero"><header class="hero__content"><div class="wrapper"><h1>Array flattening</h1><div class="feed__meta content__meta"><img src="https://pilvimaa.fi/media/website/Pilvinen-As_Space_Techno_Wizard.png" loading="eager" height="1024" width="1024" class="feed__author-thumb" alt="Pilvinen"> <a href="https://pilvimaa.fi/authors/pilvinen/" class="feed__author">Pilvinen</a> <time datetime="2020-10-28T16:42" class="feed__date">October 28, 2020</time></div></div></header><figure class="hero__image"><div class="hero__image-wrapper"><img src="https://pilvimaa.fi/media/posts/1/Array_flattening.png" srcset="https://pilvimaa.fi/media/posts/1/responsive/Array_flattening-xs.webp 640w, https://pilvimaa.fi/media/posts/1/responsive/Array_flattening-sm.webp 768w, https://pilvimaa.fi/media/posts/1/responsive/Array_flattening-md.webp 1024w, https://pilvimaa.fi/media/posts/1/responsive/Array_flattening-lg.webp 1366w, https://pilvimaa.fi/media/posts/1/responsive/Array_flattening-xl.webp 1600w, https://pilvimaa.fi/media/posts/1/responsive/Array_flattening-2xl.webp 1920w" sizes="88vw" loading="eager" height="720" width="1281" alt="Array flattening"></div></figure></div><div class="entry-wrapper content__entry"><figure class="post__image"><img loading="lazy" src="https://pilvimaa.fi/media/posts/1/Array_flattening.png" width="1281" height="720" sizes="(max-width: 1920px) 100vw, 1920px" srcset="https://pilvimaa.fi/media/posts/1/responsive/Array_flattening-xs.webp 640w, https://pilvimaa.fi/media/posts/1/responsive/Array_flattening-sm.webp 768w, https://pilvimaa.fi/media/posts/1/responsive/Array_flattening-md.webp 1024w, https://pilvimaa.fi/media/posts/1/responsive/Array_flattening-lg.webp 1366w, https://pilvimaa.fi/media/posts/1/responsive/Array_flattening-xl.webp 1600w, https://pilvimaa.fi/media/posts/1/responsive/Array_flattening-2xl.webp 1920w"></figure><p><strong>One dimensional arrays</strong>, or <strong>flat arrays</strong> as they are sometimes called, have desirable properties. They are fast. They are simple to access and to iterate through. They can easily be assigned to contiguous memory blocks.</p><p>The above picture shows how <strong>indexing</strong> works when we turn our multi-dimensional array into a flat array.</p><pre><code class="language-cs">int index = rowWidth * row + col;</code></pre><p>The above code pretty much explains it all. But in case you're like me, and you sometimes have difficulties understanding things until you've studied them thoroughly, I will walk you through the gist of it.</p><p>In the example above we have a multi-dimensional <code>3 x 4</code> array. 3 rows (0-2) and 4 columns (0-3) and, and we want to find the index for <code>1,2</code>in other words, we want the index for <strong>row position 1</strong>, <strong>column position 2</strong>, and we want to find that index position in our <em>one dimensional flat array</em> which is essentially emulating a multi-dimensional 3 x 4 array.</p><p>We take the <strong>width</strong> of our <strong>rows</strong>, ie. their actual size (<strong>4</strong> columns wide) and we <strong>multiply</strong> it with the <em>index</em> of the <strong>row</strong> that we want to access (<strong>1</strong>). In other words <code>rowWidth * row</code> ie. <code>4 * 1</code> in our example. This gives us the combined length of all the <em>previous</em> rows of data (because the index starts from 0, we essentially always skip the current one), ie. <strong>row 0</strong> is the previous row in this case. <code>4 * 1 = 4</code>We have 4 entries in all the previous rows.</p><p>Next we want to add our index location on the <strong>column</strong> to this number. This gives us the final index value. In our example our location on the column is 2, therefore we add <code>4 + 2 = 6</code>, giving us the final index of <strong>6</strong>.</p><p>The explanation is probably harder to follow than the code and picture, but there you have it.</p></div><footer class="content__footer"><div class="entry-wrapper"><p class="content__updated">This article was updated on October 29, 2020</p><div class="content__actions"><ul class="content__tag"><li><a href="https://pilvimaa.fi/tag/arrays/">Arrays</a></li><li><a href="https://pilvimaa.fi/tag/c/">C#</a></li><li><a href="https://pilvimaa.fi/tag/csharp/">Csharp</a></li></ul></div><div class="content__bio bio"><img src="https://pilvimaa.fi/media/website/Pilvinen-As_Space_Techno_Wizard.png" loading="lazy" height="1024" width="1024" class="bio__avatar" alt="Pilvinen"><div><h3 class="h4 bio__name"><a href="https://pilvimaa.fi/authors/pilvinen/" rel="author">Pilvinen</a></h3><div class="bio__desc">Star and Serpent indie game studio founder, team leader, programmer wannabe, and game designer. Human friendly. Likes to talk. Interested in math, sciences, logic, languages, literature, medieval history, programming, philosophy, and games.</div></div></div></div><nav class="content__nav"><div class="wrapper"><div class="content__nav-inner"><div class="content__nav-next"><a href="https://pilvimaa.fi/binary-addition/" class="content__nav-link" rel="next"><div><span>Next</span> Binary addition</div><figure class="content__nav-image"><img src="https://pilvimaa.fi/media/posts/2/responsive/Binary-1920x1280-xs.webp" class="lazyload" loading="lazy" alt="Binary" height="1280" width="1280"></figure></a></div></div></div></nav></footer></article></main><footer class="footer"><div class="wrapper"><div class="footer__copyright"><p><a href="https://www.starandserpent.com" target="_blank" rel="noopener noreferrer">https://www.starandserpent.com</a></p></div><button onclick="backToTopFunction()" id="backToTop" class="footer__bttop" aria-label="Back to top" title="Back to top"><svg width="20" height="20"><use xlink:href="https://pilvimaa.fi/assets/svg/svg-map.svg#toparrow"/></svg></button></div></footer><script defer="defer" src="https://pilvimaa.fi/assets/js/scripts.min.js?v=ffcbea6c02c8178d10092962b235a5b0"></script><script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.top'};</script><script>var images = document.querySelectorAll('img[loading]');
        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script><script defer="defer" src="https://pilvimaa.fi/media/plugins/syntaxHighlighter/prism.js"></script><script defer="defer" src="https://pilvimaa.fi/media/plugins/syntaxHighlighter/prism-line-numbers.min.js"></script><script defer="defer" src="https://pilvimaa.fi/media/plugins/syntaxHighlighter/clipboard.min.js"></script><script defer="defer" src="https://pilvimaa.fi/media/plugins/syntaxHighlighter/prism-copy-to-clipboard.min.js"></script></body></html>