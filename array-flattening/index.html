<!DOCTYPE html><html lang="en-us"><head><link rel="stylesheet" href="https://Pilvinen.github.io/assets/css/prism.css?v=1caa16b9d9db6430ff86df681aca81b1"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Array flattening - Journeys and Adventures in Csharp</title><meta name="description" content="One dimensional arrays, or flat arrays as they are sometimes called, have desirable properties. They are fast. They are simple to access and to iterate through. They can easily be assigned&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://Pilvinen.github.io/array-flattening/"><link rel="alternate" type="application/atom+xml" href="https://Pilvinen.github.io/feed.xml"><link rel="alternate" type="application/json" href="https://Pilvinen.github.io/feed.json"><link rel="shortcut icon" href="https://Pilvinen.github.io/media/website/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="https://Pilvinen.github.io/assets/css/style.css?v=5a788685de4bd0b74d9ebdaec0ae5e57"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://Pilvinen.github.io/array-flattening/"},"headline":"Array flattening","datePublished":"2020-10-28T16:42","dateModified":"2020-10-29T02:57","image":{"@type":"ImageObject","url":"https://Pilvinen.github.io/media/posts/1/Array_flattening.png","height":720,"width":1281},"description":"One dimensional arrays, or flat arrays as they are sometimes called, have desirable properties. They are fast. They are simple to access and to iterate through. They can easily be assigned&hellip;","author":{"@type":"Person","name":"Pilvinen","url":"https://Pilvinen.github.io/authors/pilvinen/"},"publisher":{"@type":"Organization","name":"Pilvinen","logo":{"@type":"ImageObject","url":"https://Pilvinen.github.io/media/website/Hedgehog.png","height":397,"width":640}}}</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-NT7DGE75CF"></script><script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-NT7DGE75CF');</script></head><body><div class="site-container"><header class="top" id="js-header"><a class="logo" href="https://Pilvinen.github.io/"><img src="https://Pilvinen.github.io/media/website/Hedgehog.png" alt="Journeys and Adventures in Csharp" width="640" height="397"></a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://www.starandserpent.com" title="Star and Serpent" target="_blank">Star and Serpent</a></li><li><a href="https://www.starandserpent.com/blog/" title="S.&#x27;.S.&#x27;. blog" target="_blank">S.&#x27;.S.&#x27;. Blog</a></li><li><a href="https://github.com/starandserpent" title="S.&#x27;.S.&#x27;. Github" target="_blank">S.&#x27;.S.&#x27;. Github</a></li><li><a href="https://www.ritualsoftheold.com" title="Rituals of the old" target="_blank">Rituals of the old</a></li><li><a href="https://github.com/Pilvinen" title="Personal Github" target="_blank">Personal Github</a></li></ul></nav></header><main><article class="post"><div class="hero"><figure class="hero__image hero__image--overlay"><img src="https://Pilvinen.github.io/media/posts/1/Array_flattening.png" srcset="https://Pilvinen.github.io/media/posts/1/responsive/Array_flattening-xs.png 300w, https://Pilvinen.github.io/media/posts/1/responsive/Array_flattening-sm.png 480w, https://Pilvinen.github.io/media/posts/1/responsive/Array_flattening-md.png 768w, https://Pilvinen.github.io/media/posts/1/responsive/Array_flattening-lg.png 1024w, https://Pilvinen.github.io/media/posts/1/responsive/Array_flattening-xl.png 1360w, https://Pilvinen.github.io/media/posts/1/responsive/Array_flattening-2xl.png 1600w" sizes="(max-width: 1600px) 100vw, 1600px" loading="eager" height="720" width="1281" alt="Array flattening"></figure><header class="hero__content"><div class="wrapper"><div class="post__meta"><time datetime="2020-10-28T16:42">October 28, 2020</time></div><h1>Array flattening</h1><div class="post__meta post__meta--author"><img src="https://Pilvinen.github.io/media/website/Pilvinen.jpg" loading="eager" height="300" width="300" class="post__author-thumb" alt="Pilvinen"> <a href="https://Pilvinen.github.io/authors/pilvinen/" class="feed__author">Pilvinen</a></div></div></header></div><div class="wrapper post__entry"><figure class="post__image"><img loading="lazy" src="https://Pilvinen.github.io/media/posts/1/Array_flattening.png" sizes="100vw" srcset="https://Pilvinen.github.io/media/posts/1/responsive/Array_flattening-xs.png 300w, https://Pilvinen.github.io/media/posts/1/responsive/Array_flattening-sm.png 480w, https://Pilvinen.github.io/media/posts/1/responsive/Array_flattening-md.png 768w, https://Pilvinen.github.io/media/posts/1/responsive/Array_flattening-lg.png 1024w, https://Pilvinen.github.io/media/posts/1/responsive/Array_flattening-xl.png 1360w, https://Pilvinen.github.io/media/posts/1/responsive/Array_flattening-2xl.png 1600w" width="1281" height="720"></figure><p><strong>One dimensional arrays</strong>, or <strong>flat arrays</strong> as they are sometimes called, have desirable properties. They are fast. They are simple to access and to iterate through. They can easily be assigned to contiguous memory blocks.</p><p>The above picture shows how <strong>indexing</strong> works when we turn our multi-dimensional array into a flat array.</p><pre><code class="language-cs">int index = rowWidth * row + col;</code></pre><p>The above code pretty much explains it all. But in case you're like me, and you sometimes have difficulties understanding things until you've studied them thoroughly, I will walk you through the gist of it.</p><p>In the example above we have a multi-dimensional <code>3 x 4</code> array. 3 rows (0-2) and 4 columns (0-3) and, and we want to find the index for <code>1,2</code>in other words, we want the index for <strong>row position 1</strong>, <strong>column position 2</strong>, and we want to find that index position in our <em>one dimensional flat array</em> which is essentially emulating a multi-dimensional 3 x 4 array.</p><p>We take the <strong>width</strong> of our <strong>rows</strong>, ie. their actual size (<strong>4</strong> columns wide) and we <strong>multiply</strong> it with the <em>index</em> of the <strong>row</strong> that we want to access (<strong>1</strong>). In other words <code>rowWidth * row</code> ie. <code>4 * 1</code> in our example. This gives us the combined length of all the <em>previous</em> rows of data (because the index starts from 0, we essentially always skip the current one), ie. <strong>row 0</strong> is the previous row in this case. <code>4 * 1 = 4</code>We have 4 entries in all the previous rows.</p><p>Next we want to add our index location on the <strong>column</strong> to this number. This gives us the final index value. In our example our location on the column is 2, therefore we add <code>4 + 2 = 6</code>, giving us the final index of <strong>6</strong>.</p><p>The explanation is probably harder to follow than the code and picture, but there you have it.</p></div><footer class="wrapper post__footer"><p class="post__last-updated">This article was updated on October 29, 2020</p><ul class="post__tag"><li><a href="https://Pilvinen.github.io/tag/arrays/">Arrays</a></li><li><a href="https://Pilvinen.github.io/tag/c/">C#</a></li><li><a href="https://Pilvinen.github.io/tag/csharp/">Csharp</a></li></ul><div class="post__share"></div><div class="post__bio bio"><img src="https://Pilvinen.github.io/media/website/Pilvinen.jpg" loading="lazy" height="300" width="300" class="bio__avatar" alt="Pilvinen"><div class="bio__info"><h3 class="bio__name"><a href="https://Pilvinen.github.io/authors/pilvinen/" rel="author">Pilvinen</a></h3><p>Star and Serpent indie game studio founder, team leader, programmer wannabe, and game designer. Human friendly. Likes to talk. Interested in math, sciences, logic, languages, literature, medieval history, programming, philosophy, and games.</p></div></div></footer></article><nav class="post__nav"><div class="post__nav-inner"><div class="post__nav-next"><a href="https://Pilvinen.github.io/binary-addition/" class="post__nav-link" rel="next"><span>Next</span> Binary addition </a><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://Pilvinen.github.io/assets/svg/svg-map.svg#arrow-next"/></svg></div></div></nav><div class="post__related related"><div class="wrapper"><h2 class="h5 related__title">You should also read:</h2><article class="related__item"><div class="feed__meta"><time datetime="2022-07-13T16:37" class="feed__date">July 13, 2022</time></div><h3 class="h1"><a href="https://Pilvinen.github.io/godot-multimesh-setasbulkarray-method/">Godot MultiMesh SetAsBulkArray Method</a></h3></article></div></div></main><footer class="footer"><script defer="defer" src="https://Pilvinen.github.io/assets/js/prism.js?v=4bd006477d0d358daace75bbde4ce792"></script><div class="footer__copyright"><p><a href="https://www.starandserpent.com" target="_blank" rel="noopener noreferrer">https://www.starandserpent.com</a></p></div><button onclick="backToTopFunction()" id="backToTop" class="footer__bttop" aria-label="Back to top" title="Back to top"><svg><use xlink:href="https://Pilvinen.github.io/assets/svg/svg-map.svg#toparrow"/></svg></button></footer></div><script defer="defer" src="https://Pilvinen.github.io/assets/js/scripts.min.js?v=f47c11534595205f20935f0db2a62a85"></script><script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.top'};</script><script>var images = document.querySelectorAll('img[loading]');

        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script></body></html>