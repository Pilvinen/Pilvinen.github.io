<!DOCTYPE html><html lang="en-us"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Seeded Random Numbers - Csharp and Game Development Notes</title><meta name="description" content="Sometimes you need pseudo-random numbers which are not dependent on time and which are always reliably identical and given in the same order when ever you re-start the application or&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://pilvimaa.fi/seeded-random-numbers/"><link rel="alternate" type="application/atom+xml" href="https://pilvimaa.fi/feed.xml"><link rel="alternate" type="application/json" href="https://pilvimaa.fi/feed.json"><link rel="shortcut icon" href="https://pilvimaa.fi/media/website/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="https://pilvimaa.fi/assets/css/style.css?v=883afb3621d8d9edd7f006e174496a4d"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://pilvimaa.fi/seeded-random-numbers/"},"headline":"Seeded Random Numbers","datePublished":"2022-07-14T20:56","dateModified":"2022-07-14T21:10","image":{"@type":"ImageObject","url":"https://pilvimaa.fi/media/posts/9/Dice.jpg","height":327,"width":960},"description":"Sometimes you need pseudo-random numbers which are not dependent on time and which are always reliably identical and given in the same order when ever you re-start the application or&hellip;","author":{"@type":"Person","name":"Pilvinen","url":"https://pilvimaa.fi/authors/pilvinen/"},"publisher":{"@type":"Organization","name":"Pilvinen","logo":{"@type":"ImageObject","url":"https://pilvimaa.fi/media/website/Hedgehog.png","height":397,"width":640}}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-NT7DGE75CF"></script><script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-NT7DGE75CF');</script></head><body class="post-template"><header class="top js-header"><a class="logo" href="https://pilvimaa.fi/"><img src="https://pilvimaa.fi/media/website/Hedgehog.png" alt="Csharp and Game Development Notes" width="640" height="397"></a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://www.starandserpent.com" title="Star and Serpent" target="_blank">Star and Serpent</a></li><li><a href="https://www.starandserpent.com/blog/" title="S.&#x27;.S.&#x27;. blog" target="_blank">S.&#x27;.S.&#x27;. Blog</a></li><li><a href="https://github.com/starandserpent" title="S.&#x27;.S.&#x27;. Github" target="_blank">S.&#x27;.S.&#x27;. Github</a></li><li><a href="https://github.com/Pilvinen" title="Personal Github" target="_blank">Personal Github</a></li></ul></nav></header><main class="post"><article class="content"><div class="hero"><header class="hero__content"><div class="wrapper"><h1>Seeded Random Numbers</h1><div class="feed__meta content__meta"><img src="https://pilvimaa.fi/media/website/Pilvinen-As_Space_Techno_Wizard.png" loading="eager" height="1024" width="1024" class="feed__author-thumb" alt="Pilvinen"> <a href="https://pilvimaa.fi/authors/pilvinen/" class="feed__author">Pilvinen</a> <time datetime="2022-07-14T20:56" class="feed__date">July 14, 2022</time></div></div></header><figure class="hero__image"><div class="hero__image-wrapper"><img src="https://pilvimaa.fi/media/posts/9/Dice.jpg" srcset="https://pilvimaa.fi/media/posts/9/responsive/Dice-xs.jpg 640w, https://pilvimaa.fi/media/posts/9/responsive/Dice-sm.jpg 768w, https://pilvimaa.fi/media/posts/9/responsive/Dice-md.jpg 1024w, https://pilvimaa.fi/media/posts/9/responsive/Dice-lg.jpg 1366w, https://pilvimaa.fi/media/posts/9/responsive/Dice-xl.jpg 1600w, https://pilvimaa.fi/media/posts/9/responsive/Dice-2xl.jpg 1920w" sizes="88vw" loading="eager" height="327" width="960" alt=""></div></figure></div><div class="entry-wrapper content__entry"><p>Sometimes you need pseudo-random numbers which are not dependent on time and which are always reliably identical and given in the same order when ever you re-start the application or re-create the <code>Random</code> generator object.</p><p>This can be achieved by giving the <code>Random</code> generator instance a seed value.</p><pre><code class="language-cs">Random random = new Random(1273456);
</code></pre><p>This is very useful in situations where you, for example, need to generate identical terrain each time your game runs.</p><p>The seed value could be shared between client and server or between friends to generate the same world on different machines provided that the generation code remains identical between versions of the application.</p><h2 id="several-random-number-generators-sharing-a-seed">Several Random Number Generators Sharing a Seed</h2><p>Csharp’s random number generator is not thread safe. This means if you need random number generation and you have several threads which need those numbers they can’t share the same instance, it’s not safe to do so.</p><p>In such cases you might need to have several random number generators which are based on the same seed to keep the behavior consistent.</p><p>A common way to do this is to use a master random number generator and have that generate the seed values for any subsequent random number generators. But this approach has problems even though it’s common. If you do this you will get bi-modal peaks for your range where it’s more likely to get numbers from those peaks - making the random generation less random.</p><p>A simple working solution to this problem is to increment your seed by +1 for each new subsequent random number generator like shown in the example below.</p><pre><code class="language-cs">using System;  
  
internal class SeededRandomExample {  
    public Random TerrainRandom;  
    public Random BiomeRandom;  
    public Random VegetationRandom;  
    public int Seed { get; set; } = 481203849;  
    public SeededRandomExample() {  
        int terrainSeed = Seed;  
        TerrainRandom = new Random(terrainSeed);  
        int biomeSeed = Seed + 1;  
        BiomeRandom = new Random(biomeSeed);  
        int vegetationSeed = Seed + 2;  
        VegetationRandom = new Random(vegetationSeed);  
    }  
}
</code></pre><p>This solution will give you better and more consistently (pseudo-) random numbers while keeping the random number generators tied to the same seed value.</p></div><footer class="content__footer"><div class="entry-wrapper"><p class="content__updated">This article was updated on July 14, 2022</p><div class="content__actions"><ul class="content__tag"><li><a href="https://pilvimaa.fi/tag/c/">C#</a></li><li><a href="https://pilvimaa.fi/tag/random-numbers/">Random Numbers</a></li><li><a href="https://pilvimaa.fi/tag/world-generation/">World Generation</a></li></ul></div><div class="content__bio bio"><img src="https://pilvimaa.fi/media/website/Pilvinen-As_Space_Techno_Wizard.png" loading="lazy" height="1024" width="1024" class="bio__avatar" alt="Pilvinen"><div><h3 class="h4 bio__name"><a href="https://pilvimaa.fi/authors/pilvinen/" rel="author">Pilvinen</a></h3><div class="bio__desc">Star and Serpent indie game studio founder, team leader, programmer wannabe, and game designer. Human friendly. Likes to talk. Interested in math, sciences, logic, languages, literature, medieval history, programming, philosophy, and games.</div></div></div></div><nav class="content__nav"><div class="wrapper"><div class="content__nav-inner"><div class="content__nav-prev"><a href="https://pilvimaa.fi/godot-multimesh-setasbulkarray-method/" class="content__nav-link" rel="prev"><figure class="content__nav-image"><img src="https://pilvimaa.fi/media/posts/8/responsive/MultiMeshBlocks-xs.png" class="lazyload" loading="lazy" alt="" height="1080" width="1080"></figure><div><span>Previous</span> Godot MultiMesh SetAsBulkArray Method</div></a></div><div class="content__nav-next"><a href="https://pilvimaa.fi/axis-aligned-bounding-boxes-and-intersections/" class="content__nav-link" rel="next"><div><span>Next</span> Axis Aligned Bounding Boxes and Intersections</div><figure class="content__nav-image"><img src="https://pilvimaa.fi/media/posts/10/responsive/AABB-xs.jpg" class="lazyload" loading="lazy" alt="" height="512" width="512"></figure></a></div></div></div></nav></footer></article></main><footer class="footer footer--glued"><div class="wrapper"><div class="footer__copyright"><p><a href="https://www.starandserpent.com" target="_blank" rel="noopener noreferrer">https://www.starandserpent.com</a></p></div><button onclick="backToTopFunction()" id="backToTop" class="footer__bttop" aria-label="Back to top" title="Back to top"><svg width="20" height="20"><use xlink:href="https://pilvimaa.fi/assets/svg/svg-map.svg#toparrow"/></svg></button></div></footer><script defer="defer" src="https://pilvimaa.fi/assets/js/scripts.min.js?v=ffcbea6c02c8178d10092962b235a5b0"></script><script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.top'};</script><script>var images = document.querySelectorAll('img[loading]');
        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script></body></html>