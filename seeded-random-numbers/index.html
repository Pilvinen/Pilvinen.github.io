<!DOCTYPE html><html lang="en-us"><head><link rel="stylesheet" href="https://pilvimaa.fi/assets/css/prism.css?v=1caa16b9d9db6430ff86df681aca81b1"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Seeded Random Numbers - Csharp and Game Development Notes</title><meta name="description" content="Sometimes you need pseudo-random numbers which are not dependent on time and which are always reliably identical and given in the same order when ever you re-start the application or&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://pilvimaa.fi/seeded-random-numbers/"><link rel="alternate" type="application/atom+xml" href="https://pilvimaa.fi/feed.xml"><link rel="alternate" type="application/json" href="https://pilvimaa.fi/feed.json"><link rel="shortcut icon" href="https://pilvimaa.fi/media/website/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="https://pilvimaa.fi/assets/css/style.css?v=ab33063cbce56203238b0874a5c3bcee"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://pilvimaa.fi/seeded-random-numbers/"},"headline":"Seeded Random Numbers","datePublished":"2022-07-14T20:56","dateModified":"2022-07-14T21:10","image":{"@type":"ImageObject","url":"https://pilvimaa.fi/media/posts/9/Dice.jpg","height":327,"width":960},"description":"Sometimes you need pseudo-random numbers which are not dependent on time and which are always reliably identical and given in the same order when ever you re-start the application or&hellip;","author":{"@type":"Person","name":"Pilvinen","url":"https://pilvimaa.fi/authors/pilvinen/"},"publisher":{"@type":"Organization","name":"Pilvinen","logo":{"@type":"ImageObject","url":"https://pilvimaa.fi/media/website/Hedgehog.png","height":397,"width":640}}}</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-NT7DGE75CF"></script><script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-NT7DGE75CF');</script></head><body><div class="site-container"><header class="top" id="js-header"><a class="logo" href="https://pilvimaa.fi/"><img src="https://pilvimaa.fi/media/website/Hedgehog.png" alt="Csharp and Game Development Notes" width="640" height="397"></a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://www.starandserpent.com" title="Star and Serpent" target="_blank">Star and Serpent</a></li><li><a href="https://www.starandserpent.com/blog/" title="S.&#x27;.S.&#x27;. blog" target="_blank">S.&#x27;.S.&#x27;. Blog</a></li><li><a href="https://github.com/starandserpent" title="S.&#x27;.S.&#x27;. Github" target="_blank">S.&#x27;.S.&#x27;. Github</a></li><li><a href="https://www.punydemigods.com" title="Puny Demigods" target="_blank">Puny Demigods</a></li><li><a href="https://www.ritualsoftheold.com" title="Rituals of the old" target="_blank">Rituals of the old</a></li><li><a href="https://github.com/Pilvinen" title="Personal Github" target="_blank">Personal Github</a></li></ul></nav></header><main><article class="post"><div class="hero"><figure class="hero__image hero__image--overlay"><img src="https://pilvimaa.fi/media/posts/9/Dice.jpg" srcset="https://pilvimaa.fi/media/posts/9/responsive/Dice-xs.jpg 300w, https://pilvimaa.fi/media/posts/9/responsive/Dice-sm.jpg 480w, https://pilvimaa.fi/media/posts/9/responsive/Dice-md.jpg 768w, https://pilvimaa.fi/media/posts/9/responsive/Dice-lg.jpg 1024w, https://pilvimaa.fi/media/posts/9/responsive/Dice-xl.jpg 1360w, https://pilvimaa.fi/media/posts/9/responsive/Dice-2xl.jpg 1600w" sizes="(max-width: 1600px) 100vw, 1600px" loading="eager" height="327" width="960" alt=""></figure><header class="hero__content"><div class="wrapper"><div class="post__meta"><time datetime="2022-07-14T20:56">July 14, 2022</time></div><h1>Seeded Random Numbers</h1><div class="post__meta post__meta--author"><img src="https://pilvimaa.fi/media/website/Pilvinen-As_Space_Techno_Wizard.png" loading="eager" height="1024" width="1024" class="post__author-thumb" alt="Pilvinen"> <a href="https://pilvimaa.fi/authors/pilvinen/" class="feed__author">Pilvinen</a></div></div></header></div><div class="wrapper post__entry"><p>Sometimes you need pseudo-random numbers which are not dependent on time and which are always reliably identical and given in the same order when ever you re-start the application or re-create the <code>Random</code> generator object.</p><p>This can be achieved by giving the <code>Random</code> generator instance a seed value.</p><pre><code class="language-cs">Random random = new Random(1273456);
</code></pre><p>This is very useful in situations where you, for example, need to generate identical terrain each time your game runs.</p><p>The seed value could be shared between client and server or between friends to generate the same world on different machines provided that the generation code remains identical between versions of the application.</p><h2 id="several-random-number-generators-sharing-a-seed">Several Random Number Generators Sharing a Seed</h2><p>Csharp’s random number generator is not thread safe. This means if you need random number generation and you have several threads which need those numbers they can’t share the same instance, it’s not safe to do so.</p><p>In such cases you might need to have several random number generators which are based on the same seed to keep the behavior consistent.</p><p>A common way to do this is to use a master random number generator and have that generate the seed values for any subsequent random number generators. But this approach has problems even though it’s common. If you do this you will get bi-modal peaks for your range where it’s more likely to get numbers from those peaks - making the random generation less random.</p><p>A simple working solution to this problem is to increment your seed by +1 for each new subsequent random number generator like shown in the example below.</p><pre><code class="language-cs">using System;  
  
internal class SeededRandomExample {  
    public Random TerrainRandom;  
    public Random BiomeRandom;  
    public Random VegetationRandom;  
    public int Seed { get; set; } = 481203849;  
    public SeededRandomExample() {  
        int terrainSeed = Seed;  
        TerrainRandom = new Random(terrainSeed);  
        int biomeSeed = Seed + 1;  
        BiomeRandom = new Random(biomeSeed);  
        int vegetationSeed = Seed + 2;  
        VegetationRandom = new Random(vegetationSeed);  
    }  
}
</code></pre><p>This solution will give you better and more consistently (pseudo-) random numbers while keeping the random number generators tied to the same seed value.</p></div><footer class="wrapper post__footer"><p class="post__last-updated">This article was updated on July 14, 2022</p><ul class="post__tag"><li><a href="https://pilvimaa.fi/tag/c/">C#</a></li><li><a href="https://pilvimaa.fi/tag/random-numbers/">Random Numbers</a></li><li><a href="https://pilvimaa.fi/tag/world-generation/">World Generation</a></li></ul><div class="post__share"></div><div class="post__bio bio"><img src="https://pilvimaa.fi/media/website/Pilvinen-As_Space_Techno_Wizard.png" loading="lazy" height="1024" width="1024" class="bio__avatar" alt="Pilvinen"><div class="bio__info"><h3 class="bio__name"><a href="https://pilvimaa.fi/authors/pilvinen/" rel="author">Pilvinen</a></h3><p>Star and Serpent indie game studio founder, team leader, programmer wannabe, and game designer. Human friendly. Likes to talk. Interested in math, sciences, logic, languages, literature, medieval history, programming, philosophy, and games.</p></div></div></footer></article><nav class="post__nav"><div class="post__nav-inner"><div class="post__nav-prev"><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://pilvimaa.fi/assets/svg/svg-map.svg#arrow-prev"/></svg> <a href="https://pilvimaa.fi/godot-multimesh-setasbulkarray-method/" class="post__nav-link" rel="prev"><span>Previous</span> Godot MultiMesh SetAsBulkArray Method</a></div><div class="post__nav-next"><a href="https://pilvimaa.fi/axis-aligned-bounding-boxes-and-intersections/" class="post__nav-link" rel="next"><span>Next</span> Axis Aligned Bounding Boxes and Intersections </a><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://pilvimaa.fi/assets/svg/svg-map.svg#arrow-next"/></svg></div></div></nav></main><footer class="footer"><script defer="defer" src="https://pilvimaa.fi/assets/js/prism.js?v=4bd006477d0d358daace75bbde4ce792"></script><div class="footer__copyright"><p><a href="https://www.starandserpent.com" target="_blank" rel="noopener noreferrer">https://www.starandserpent.com</a></p></div><button onclick="backToTopFunction()" id="backToTop" class="footer__bttop" aria-label="Back to top" title="Back to top"><svg><use xlink:href="https://pilvimaa.fi/assets/svg/svg-map.svg#toparrow"/></svg></button></footer></div><script defer="defer" src="https://pilvimaa.fi/assets/js/scripts.min.js?v=f47c11534595205f20935f0db2a62a85"></script><script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.top'};</script><script>var images = document.querySelectorAll('img[loading]');

        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script></body></html>