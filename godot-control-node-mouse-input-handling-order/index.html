<!DOCTYPE html><html lang="en-us"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Godot Control node mouse input handling order - Csharp and Game Development Notes</title><meta name="description" content="Godot mouse input handling is a source of lot of confusion. The basic idea is that Mouse Filter set to Ignore ignores the element. Stop processes the received event and&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://pilvimaa.fi/godot-control-node-mouse-input-handling-order/"><link rel="alternate" type="application/atom+xml" href="https://pilvimaa.fi/feed.xml"><link rel="alternate" type="application/json" href="https://pilvimaa.fi/feed.json"><link rel="shortcut icon" href="https://pilvimaa.fi/media/website/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="https://pilvimaa.fi/assets/css/style.css?v=883afb3621d8d9edd7f006e174496a4d"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://pilvimaa.fi/godot-control-node-mouse-input-handling-order/"},"headline":"Godot Control node mouse input handling order","datePublished":"2023-11-01T21:09","dateModified":"2023-11-01T21:12","image":{"@type":"ImageObject","url":"https://pilvimaa.fi/media/posts/16/GodotMouseInput.jpeg","height":1024,"width":1024},"description":"Godot mouse input handling is a source of lot of confusion. The basic idea is that Mouse Filter set to Ignore ignores the element. Stop processes the received event and&hellip;","author":{"@type":"Person","name":"Pilvinen","url":"https://pilvimaa.fi/authors/pilvinen/"},"publisher":{"@type":"Organization","name":"Pilvinen","logo":{"@type":"ImageObject","url":"https://pilvimaa.fi/media/website/Hedgehog.png","height":397,"width":640}}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-NT7DGE75CF"></script><script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-NT7DGE75CF');</script></head><body class="post-template"><header class="top js-header"><a class="logo" href="https://pilvimaa.fi/"><img src="https://pilvimaa.fi/media/website/Hedgehog.png" alt="Csharp and Game Development Notes" width="640" height="397"></a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://www.starandserpent.com" title="Star and Serpent" target="_blank">Star and Serpent</a></li><li><a href="https://www.starandserpent.com/blog/" title="S.&#x27;.S.&#x27;. blog" target="_blank">S.&#x27;.S.&#x27;. Blog</a></li><li><a href="https://github.com/starandserpent" title="S.&#x27;.S.&#x27;. Github" target="_blank">S.&#x27;.S.&#x27;. Github</a></li><li><a href="https://github.com/Pilvinen" title="Personal Github" target="_blank">Personal Github</a></li></ul></nav></header><main class="post"><article class="content"><div class="hero"><header class="hero__content"><div class="wrapper"><h1>Godot Control node mouse input handling order</h1><div class="feed__meta content__meta"><img src="https://pilvimaa.fi/media/website/Pilvinen-As_Space_Techno_Wizard.png" loading="eager" height="1024" width="1024" class="feed__author-thumb" alt="Pilvinen"> <a href="https://pilvimaa.fi/authors/pilvinen/" class="feed__author">Pilvinen</a> <time datetime="2023-11-01T21:09" class="feed__date">November 1, 2023</time></div></div></header><figure class="hero__image"><div class="hero__image-wrapper"><img src="https://pilvimaa.fi/media/posts/16/GodotMouseInput.jpeg" srcset="https://pilvimaa.fi/media/posts/16/responsive/GodotMouseInput-xs.jpeg 640w, https://pilvimaa.fi/media/posts/16/responsive/GodotMouseInput-sm.jpeg 768w, https://pilvimaa.fi/media/posts/16/responsive/GodotMouseInput-md.jpeg 1024w, https://pilvimaa.fi/media/posts/16/responsive/GodotMouseInput-lg.jpeg 1366w, https://pilvimaa.fi/media/posts/16/responsive/GodotMouseInput-xl.jpeg 1600w, https://pilvimaa.fi/media/posts/16/responsive/GodotMouseInput-2xl.jpeg 1920w" sizes="88vw" loading="eager" height="1024" width="1024" alt=""></div></figure></div><div class="entry-wrapper content__entry"><p>Godot mouse input handling is a source of lot of confusion.</p><p>The basic idea is that <strong>Mouse Filter</strong> set to <code>Ignore</code> ignores the element. <code>Stop</code> processes the received event and doesn’t pass it along. It stops there. While <code>Pass</code> handles the event but then passes it along so other nodes can process it.</p><p>Where most of the confusion happens is trying to figure out in what order the mouse input events get processed.</p><p>Godot handles the input in nodes in reverse depth-first order.</p><p>In other words the order is:</p><ol><li>Bottom to top (ie. reverse)</li><li>Children first (ie. depth).</li></ol><h1 id="tree-order-example">Tree order example</h1><pre><code>- Last
    - Sixth
        - Fifth
    - Fourth
        - Third
            - Second
            - First
</code></pre><p>One of the more important things to understand is that <em><strong>sibling nodes DO NOT react to Mouse Filter being set to <code>Pass</code>!!!</strong></em></p><p>When a node is <code>Pass</code>ing event forward it <strong>ONLY</strong> passes it to its direct parent.</p><p>And of course only elements affected by the mouse clicking - or other mouse input events - are processed in the first place. You can’t <code>Pass</code> event forward to something that wouldn’t receive an event to begin with!</p><h1 id="using-pass-an-example">Using Pass, an example</h1><p>Let’s assume a situation where we have a button that we want to press, and we also want to detect when the mouse enters and leaves the window - we use the <code>MouseEntered</code> and <code>MouseExited</code> events set up for that and the detection element covers the whole screen. OK, so.</p><p>This doesn’t work:</p><pre><code>- SceneRoot (Control)
    - Button (Texturebutton)
    - MouseDetectionElement (Control)
</code></pre><p>Why?</p><p>Because in this case <code>MouseDetectionElement</code> will block clicks to <code>Button</code> if it has its <code>MouseFilter</code> set to <code>Stop</code> and <code>Pass</code>. And if it’s set to <code>Ignore</code> then it’s just inactive and doesn’t perform the function we would like it to do.</p><p>This won’t improve the situation:</p><pre><code>- SceneRoot (Control)
     - MouseDetectionElement (Control)
    - Button (Texturebutton)
</code></pre><p>Now we can click the <code>Button</code>, but <code>MouseDetectionElement</code> will generate erroneous mouse entered and mouse exited events whether it’s set to <code>Pass</code> or <code>Stop</code> because when the mouse moves over the <code>Button</code>, it is counted as exiting/entering the <code>MouseDetectionElement</code>. It’s not what we want here.</p><p>The correct solution is to make the <code>MouseDetectionElement</code> part of the hierarchy so that the <code>Button</code> can <code>Pass</code> the events forward to its parent, the <code>MouseDetectionElement</code>:</p><pre><code>- SceneRoot (Control)
     - MouseDetectionElement (Control)
        - Button (Texturebutton)
</code></pre><p>Here <code>Button</code> is processed first and with its <strong>Mouse Filter</strong> is set to <code>Pass</code> it will both:</p><ol><li>Process the mouse events</li><li>and pass them along to its parent, the <code>MouseDetectionElement</code>.</li></ol><p>The <code>MouseDetectionElement</code> can then on its turn handle all the events correctly.</p></div><footer class="content__footer"><div class="entry-wrapper"><p class="content__updated">This article was updated on November 1, 2023</p><div class="content__actions"><ul class="content__tag"><li><a href="https://pilvimaa.fi/tag/godot/">Godot</a></li><li><a href="https://pilvimaa.fi/tag/inputevent/">InputEvent</a></li><li><a href="https://pilvimaa.fi/tag/mouse/">Mouse</a></li><li><a href="https://pilvimaa.fi/tag/mousefilter/">MouseFilter</a></li></ul></div><div class="content__bio bio"><img src="https://pilvimaa.fi/media/website/Pilvinen-As_Space_Techno_Wizard.png" loading="lazy" height="1024" width="1024" class="bio__avatar" alt="Pilvinen"><div><h3 class="h4 bio__name"><a href="https://pilvimaa.fi/authors/pilvinen/" rel="author">Pilvinen</a></h3><div class="bio__desc">Star and Serpent indie game studio founder, team leader, programmer wannabe, and game designer. Human friendly. Likes to talk. Interested in math, sciences, logic, languages, literature, medieval history, programming, philosophy, and games.</div></div></div></div><nav class="content__nav"><div class="wrapper"><div class="content__nav-inner"><div class="content__nav-prev"><a href="https://pilvimaa.fi/gdscript-vs-c-in-godot-which-language-should-you-use/" class="content__nav-link" rel="prev"><figure class="content__nav-image"><img src="https://pilvimaa.fi/media/posts/15/responsive/csharp_vs_gdscript_godot-xs.png" class="lazyload" loading="lazy" alt="Confusing schematics" height="1024" width="1024"></figure><div><span>Previous</span> GDScript vs. C# in Godot: Which language should you use?</div></a></div><div class="content__nav-next"><a href="https://pilvimaa.fi/what-to-return-when-you-dont-have-anything-to-return/" class="content__nav-link" rel="next"><div><span>Next</span> What to return when you don&#x27;t have anything to return?</div><figure class="content__nav-image"><img src="https://pilvimaa.fi/media/posts/17/responsive/nothing_to_return-2-xs.png" class="lazyload" loading="lazy" alt="" height="1024" width="1024"></figure></a></div></div></div></nav></footer></article><div class="content__related related"><div class="wrapper"><h2 class="h4 related__title">You should also read:</h2><article class="feed__item"><figure class="feed__image related__image"><img src="https://pilvimaa.fi/media/posts/19/Database.png" srcset="https://pilvimaa.fi/media/posts/19/responsive/Database-xs.png 640w, https://pilvimaa.fi/media/posts/19/responsive/Database-sm.png 768w, https://pilvimaa.fi/media/posts/19/responsive/Database-md.png 1024w" sizes="(min-width: 600px) calc(4.38vw + 143px), 87.86vw" loading="lazy" height="1024" width="1024" alt="Database"></figure><div class="feed__content"><header><div class="feed__meta"><img src="https://pilvimaa.fi/media/website/Pilvinen-As_Space_Techno_Wizard.png" loading="lazy" height="1024" width="1024" class="feed__author-thumb" alt="Pilvinen"> <a href="https://pilvimaa.fi/authors/pilvinen/" class="feed__author">Pilvinen</a> <time datetime="2024-07-03T01:24" class="feed__date">July 3, 2024</time></div><h3 class="feed__title"><a href="https://pilvimaa.fi/how-to-setup-sqlite-database-with-ef-core-and-godot/">How to setup SQLite database with EF Core and Godot</a></h3></header><p>EF Core is a popular high level object relational mapper (ORM) which can have various databases at the backend. As a database noobie, I recently had a bit of a&hellip;</p></div></article><article class="feed__item"><figure class="feed__image related__image"><img src="https://pilvimaa.fi/media/posts/15/csharp_vs_gdscript_godot.png" srcset="https://pilvimaa.fi/media/posts/15/responsive/csharp_vs_gdscript_godot-xs.png 640w, https://pilvimaa.fi/media/posts/15/responsive/csharp_vs_gdscript_godot-sm.png 768w, https://pilvimaa.fi/media/posts/15/responsive/csharp_vs_gdscript_godot-md.png 1024w" sizes="(min-width: 600px) calc(4.38vw + 143px), 87.86vw" loading="lazy" height="1024" width="1024" alt="Confusing schematics"></figure><div class="feed__content"><header><div class="feed__meta"><img src="https://pilvimaa.fi/media/website/Pilvinen-As_Space_Techno_Wizard.png" loading="lazy" height="1024" width="1024" class="feed__author-thumb" alt="Pilvinen"> <a href="https://pilvimaa.fi/authors/pilvinen/" class="feed__author">Pilvinen</a> <time datetime="2023-10-16T18:47" class="feed__date">October 16, 2023</time></div><h3 class="feed__title"><a href="https://pilvimaa.fi/gdscript-vs-c-in-godot-which-language-should-you-use/">GDScript vs. C# in Godot: Which language should you use?</a></h3></header><p>Godot is a powerful and versatile game engine that supports two scripting languages: GDScript and C#. Both languages have their own advantages and disadvantages, so it’s important to choose the&hellip;</p></div></article><article class="feed__item"><figure class="feed__image related__image"><img src="https://pilvimaa.fi/media/posts/14/computer_mice_double_click.png" srcset="https://pilvimaa.fi/media/posts/14/responsive/computer_mice_double_click-xs.png 640w, https://pilvimaa.fi/media/posts/14/responsive/computer_mice_double_click-sm.png 768w, https://pilvimaa.fi/media/posts/14/responsive/computer_mice_double_click-md.png 1024w" sizes="(min-width: 600px) calc(4.38vw + 143px), 87.86vw" loading="lazy" height="1024" width="1024" alt="Two mice using a computer mouse"></figure><div class="feed__content"><header><div class="feed__meta"><img src="https://pilvimaa.fi/media/website/Pilvinen-As_Space_Techno_Wizard.png" loading="lazy" height="1024" width="1024" class="feed__author-thumb" alt="Pilvinen"> <a href="https://pilvimaa.fi/authors/pilvinen/" class="feed__author">Pilvinen</a> <time datetime="2023-06-14T02:08" class="feed__date">June 14, 2023</time></div><h3 class="feed__title"><a href="https://pilvimaa.fi/node2d-double-click-detection-in-godot/">Node2D double click detection in Godot</a></h3></header><p>Clicks for Node2D based nodes can easily be detected by using CollisionObject2D‘s input_event signal. To capture the mouse clicks we can add an Area2D node and a CollisionShape2D or CollisionPolygon2D&hellip;</p></div></article></div></div></main><footer class="footer footer--glued"><div class="wrapper"><div class="footer__copyright"><p><a href="https://www.starandserpent.com" target="_blank" rel="noopener noreferrer">https://www.starandserpent.com</a></p></div><button onclick="backToTopFunction()" id="backToTop" class="footer__bttop" aria-label="Back to top" title="Back to top"><svg width="20" height="20"><use xlink:href="https://pilvimaa.fi/assets/svg/svg-map.svg#toparrow"/></svg></button></div></footer><script defer="defer" src="https://pilvimaa.fi/assets/js/scripts.min.js?v=ffcbea6c02c8178d10092962b235a5b0"></script><script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.top'};</script><script>var images = document.querySelectorAll('img[loading]');
        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script></body></html>